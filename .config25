# 目标架构设置
CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_d-team_newifi-d2=y

# --- 1. 性能优化与极致压缩 (MT7621 专用) ---
CONFIG_TARGET_OPTIMIZATION="-Os -pipe -march=mips32r2 -mtune=24kc"
CONFIG_TARGET_OPTIONS=y
CONFIG_STRIP_KERNEL_EXPORTS=y
CONFIG_USE_STRIP=y
CONFIG_USE_SSTRIP=y
CONFIG_TARGET_UBIFS_UPX=y
CONFIG_TARGET_SQUASHFS_UPX=y

# --- 2. 基础组件与语言设置 ---
CONFIG_LUCI_LANG_zh_Hans=y
# CONFIG_PACKAGE_luci-theme-bootstrap is not set

# --- 3. 您要求的功能插件 (新增项) ---
# 动态 DNS (DDNS)
CONFIG_PACKAGE_luci-app-ddns=y
CONFIG_PACKAGE_ddns-scripts=y

# udpxy (IPTV 组播转单播)
CONFIG_PACKAGE_luci-app-udpxy=y

# WireGuard (轻量级 VPN)
CONFIG_PACKAGE_luci-app-wireguard=y

# Passwall (科学上网 - 极致瘦身组合)
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-app-passwall_Iptables_Transparent_Proxy=y
CONFIG_PACKAGE_sing-box=y
# 剔除冗余核心以节省空间
# CONFIG_PACKAGE_xray-core is not set
# CONFIG_PACKAGE_v2ray-core is not set

# Argon 主题
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y

# --- 4. 核心加速组件 (TurboACC) ---
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_HW_FLOW_OFFLOADING=y
CONFIG_PACKAGE_kmod-mt7621-hw-nat=y

# --- 5. 冗余驱动剔除 (确保 32MB Flash 不溢出) ---
# CONFIG_PACKAGE_kmod-usb-net is not set
# CONFIG_PACKAGE_kmod-rt2800-usb is not set
# CONFIG_PACKAGE_kmod-fs-ext4 is not set
# CONFIG_PACKAGE_kmod-fs-ntfs3 is not set
# CONFIG_PACKAGE_kmod-video-core is not set

# --- 6. 其他轻量常用插件 ---
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-ttyd=y
